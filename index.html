<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /*! tailwindcss v4.0.8 | MIT License | https://tailwindcss.com */
        @layer theme, base, components, utilities; @layer theme { :root, :host { --font-sans: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'; --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; --color-red-500: oklch(0.637 0.237 25.331); --color-green-500: oklch(0.723 0.219 149.579); --color-slate-950: oklch(0.129 0.042 264.695); --color-white: #fff; --spacing: 0.25rem; --default-font-family: var(--font-sans); --default-font-feature-settings: var(--font-sans--font-feature-settings); --default-font-variation-settings: var(--font-sans--font-variation-settings); --default-mono-font-family: var(--font-mono); --default-mono-font-feature-settings: var(--font-mono--font-feature-settings); --default-mono-font-variation-settings: var(--font-mono--font-variation-settings); } } @layer base { *, ::after, ::before, ::backdrop, ::file-selector-button { box-sizing: border-box; margin: 0; padding: 0; border: 0 solid; } html, :host { line-height: 1.5; -webkit-text-size-adjust: 100%; tab-size: 4; font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'); font-feature-settings: var(--default-font-feature-settings, normal); font-variation-settings: var(--default-font-variation-settings, normal); -webkit-tap-highlight-color: transparent; } body { line-height: inherit; } hr { height: 0; color: inherit; border-top-width: 1px; } abbr:where([title]) { -webkit-text-decoration: underline dotted; text-decoration: underline dotted; } h1, h2, h3, h4, h5, h6 { font-size: inherit; font-weight: inherit; } a { color: inherit; -webkit-text-decoration: inherit; text-decoration: inherit; } b, strong { font-weight: bolder; } code, kbd, samp, pre { font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace); font-feature-settings: var(--default-mono-font-feature-settings, normal); font-variation-settings: var(--default-mono-font-variation-settings, normal); font-size: 1em; } small { font-size: 80%; } sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; } sub { bottom: -0.25em; } sup { top: -0.5em; } table { text-indent: 0; border-color: inherit; border-collapse: collapse; } :-moz-focusring { outline: auto; } progress { vertical-align: baseline; } summary { display: list-item; } ol, ul, menu { list-style: none; } img, svg, video, canvas, audio, iframe, embed, object { display: block; vertical-align: middle; } img, video { max-width: 100%; height: auto; } button, input, select, optgroup, textarea, ::file-selector-button { font: inherit; font-feature-settings: inherit; font-variation-settings: inherit; letter-spacing: inherit; color: inherit; border-radius: 0; background-color: transparent; opacity: 1; } :where(select:is([multiple], [size])) optgroup { font-weight: bolder; } :where(select:is([multiple], [size])) optgroup option { padding-inline-start: 20px; } ::file-selector-button { margin-inline-end: 4px; } ::placeholder { opacity: 1; color: color-mix(in oklab, currentColor 50%, transparent); } textarea { resize: vertical; } ::-webkit-search-decoration { -webkit-appearance: none; } ::-webkit-date-and-time-value { min-height: 1lh; text-align: inherit; } ::-webkit-datetime-edit { display: inline-flex; } ::-webkit-datetime-edit-fields-wrapper { padding: 0; } ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field { padding-block: 0; } :-moz-ui-invalid { box-shadow: none; } button, input:where([type='button'], [type='reset'], [type='submit']), ::file-selector-button { appearance: button; } ::-webkit-inner-spin-button, ::-webkit-outer-spin-button { height: auto; } [hidden]:where(:not([hidden='until-found'])) { display: none !important; } } @layer utilities { .container { width: 100%; @media (width >=40rem) { max-width: 40rem; } @media (width >=48rem) { max-width: 48rem; } @media (width >=64rem) { max-width: 64rem; } @media (width >=80rem) { max-width: 80rem; } @media (width >=96rem) { max-width: 96rem; } } .mx-auto { margin-inline: auto; } .ml-2 { margin-left: calc(var(--spacing) * 2); } .flex { display: flex; } .h-4 { height: calc(var(--spacing) * 4); } .min-h-screen { min-height: 100vh; } .w-4 { width: calc(var(--spacing) * 4); } .w-\[200px\] { width: 200px; } .items-center { align-items: center; } .justify-between { justify-content: space-between; } .rounded-full { border-radius: calc(infinity * 1px); } .bg-green-500 { background-color: var(--color-green-500); } .bg-red-500 { background-color: var(--color-red-500); } .bg-slate-950 { background-color: var(--color-slate-950); } .p-4 { padding: calc(var(--spacing) * 4); } .text-white { color: var(--color-white); } }
    </style>
</head>

<body>
    <div class="bg-slate-950 min-h-screen">
        <div class="container mx-auto">
            <div class="p-4">
                <ul class="text-white w-[200px]" id="device-list">
                    <li class="flex items-center justify-between">
                        <span class="name">Ace</span>
                        <div class="ml-2 status bg-green-500 rounded-full w-4 h-4"></div>
                    </li>
                    <li class="flex items-center justify-between">
                        <span class="name">Ace</span>
                        <div class="ml-2 status bg-red-500 rounded-full w-4 h-4"></div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script>
        const deviceList = document.getElementById('device-list');


        window.onload = function() {
            getData();
            setInterval(() => {
                getData();
            }, 3600000);
        }


        function getData() {
            fetch("http://192.168.2.137:8080/status")
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    deviceList.innerHTML = '';
                    data.forEach(device => {
                        if (device.status === '1') {
                            deviceList.innerHTML += renderOnline(device.deviceName);
                        } else {
                            deviceList.innerHTML += renderOffline(device.deviceName);
                        }
                    });
                })
        }


        function renderOnline(deviceName) {
            return `
            <li class="flex items-center justify-between">
                <span class="name">${deviceName}</span>
                <div class="ml-2 status bg-green-500 rounded-full w-4 h-4"></div>
            </li>
            `
        }

        function renderOffline(deviceName) {
            return `
            <li class="flex items-center justify-between">
                <span class="name">Ace</span>
                <div class="ml-2 status bg-red-500 rounded-full w-4 h-4"></div>
            </li>
            `
        }
    </script>
</body>

</html>